<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<!-- Licensed under the Apache License, Version 2.0 (the "License"); you 
	may not use this file except in compliance with the License. You may obtain 
	a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless 
	required by applicable law or agreed to in writing, software distributed 
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES 
	OR CONDITIONS OF ANY KIND, either express or implied. See the License for 
	the specific language governing permissions and limitations under the License. 
	See accompanying LICENSE file. -->

<!-- Put site-specific property overrides in this file. -->

<configuration>
    <xi:include href="hdfs-variable.xml" xmlns:xi="http://www.w3.org/2001/XInclude">
        <xi:fallback></xi:fallback>
    </xi:include>

    <property>
        <name>dfs.block.access.token.enable</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.block.local-path-access.user</name>
        <value>hdfs hadoop</value>
    </property>

    <property>
        <name>dfs.blockreport.initialDelay</name>
        <value>900</value>
    </property>

    <property>
        <name>dfs.blocksize</name>
        <value>268435456</value>
    </property>

    <property>
        <name>dfs.client.read.shortcircuit</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.client.read.shortcircuit.streams.cache.size</name>
        <value>4096</value>
    </property>

    <property>
        <name>dfs.client.retry.policy.enabled</name>
        <value>false</value>
    </property>

    <property>
        <name>dfs.cluster.administrators</name>
        <value>hdfs hadoop</value>
    </property>

    <property>
        <name>dfs.content-summary.limit</name>
        <value>5000</value>
    </property>

    <property>
        <name>dfs.data.transfer.protection</name>
        <value>privacy</value>
    </property>

    <property>
        <name>dfs.datanode.address</name>
        <value>0.0.0.0:50010</value>
    </property>

    <property>
        <name>dfs.datanode.balance.bandwidthPerSec</name>
        <value>10485760</value>
    </property>

    <property>
        <name>dfs.datanode.balance.max.concurrent.moves</name>
        <value>50</value>
    </property>

    <property>
        <name>dfs.datanode.data.dir.perm</name>
        <value>700</value>
    </property>

    <property>
        <name>dfs.datanode.du.reserved</name>
        <value>107374182400</value>
    </property>

    <property>
        <name>dfs.datanode.failed.volumes.tolerated</name>
        <value>3</value>
    </property>

    <property>
        <name>dfs.datanode.handler.count</name>
        <value>50</value>
    </property>

    <property>
        <name>dfs.datanode.http.address</name>
        <value>0.0.0.0:50075</value>
    </property>

    <property>
        <name>dfs.datanode.https.address</name>
        <value>0.0.0.0:50475</value>
    </property>

    <property>
        <name>dfs.datanode.ipc.address</name>
        <value>0.0.0.0:50020</value>
    </property>

    <property>
        <name>dfs.datanode.kerberos.principal</name>
        <value>dn/_HOST@PROD.EBAY.COM</value>
    </property>

    <property>
        <name>dfs.datanode.keytab.file</name>
        <value>/etc/security/keytabs/dn.service.keytab</value>
    </property>

    <property>
        <name>dfs.datanode.max.transfer.threads</name>
        <value>16384</value>
    </property>

    <property>
        <name>dfs.domain.socket.path</name>
        <value>/var/lib/hadoop-hdfs/dn_socket</value>
    </property>

    <property>
        <name>dfs.encrypt.data.transfer.cipher.suites</name>
        <value>AES/CTR/NoPadding</value>
    </property>

    <property>
        <name>dfs.ha.automatic-failover.enabled</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.ha.fencing.methods</name>
        <value>shell(/bin/true)</value>
    </property>

    <property>
        <name>dfs.heartbeat.interval</name>
        <value>6</value>
    </property>

    <property>
        <name>dfs.hosts.exclude</name>
        <value>/apache/hadoop/etc/hadoop/hdfs-exclude</value>
    </property>

    <property>
        <name>dfs.hosts</name>
        <value>/apache/hadoop/etc/hadoop/hosts</value>
    </property>

    <property>
        <name>dfs.http.policy</name>
        <value>HTTPS_ONLY</value>
    </property>

    <property>
        <name>dfs.https.port</name>
        <value>50070</value>
    </property>

    <property>
        <name>dfs.journalnode.edits.dir</name>
        <value>/hadoop/hdfs/journal</value>
    </property>

    <property>
        <name>dfs.journalnode.https-address</name>
        <value>0.0.0.0:8481</value>
    </property>

    <property>
        <name>dfs.journalnode.kerberos.internal.spnego.principal</name>
        <value>HTTP/_HOST@PROD.EBAY.COM</value>
    </property>

    <property>
        <name>dfs.journalnode.kerberos.principal</name>
        <value>jn/_HOST@PROD.EBAY.COM</value>
    </property>

    <property>
        <name>dfs.journalnode.keytab.file</name>
        <value>/etc/security/keytabs/jn.service.keytab</value>
    </property>

    <property>
        <name>dfs.namenode.acls.enabled</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.namenode.audit.log.async</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.namenode.avoid.read.stale.datanode</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.namenode.avoid.write.stale.datanode</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.namenode.checkpoint.dir</name>
        <value>/hadoop/hdfs/namesecondary</value>
    </property>

    <property>
        <name>dfs.namenode.checkpoint.edits.dir</name>
        <value>${dfs.namenode.checkpoint.dir}</value>
    </property>

    <property>
        <name>dfs.namenode.checkpoint.period</name>
        <value>21600</value>
    </property>

    <property>
        <name>dfs.namenode.checkpoint.txns</name>
        <value>15000000</value>
    </property>

    <property>
        <name>dfs.namenode.decommission.interval</name>
        <value>20</value>
    </property>

    <property>
        <name>dfs.namenode.handler.count</name>
        <value>128</value>
    </property>

    <property>
        <name>dfs.namenode.kerberos.internal.spnego.principal</name>
        <value>HTTP/_HOST@PROD.EBAY.COM</value>
    </property>

    <property>
        <name>dfs.namenode.kerberos.principal</name>
        <value>nn/_HOST@PROD.EBAY.COM</value>
    </property>

    <property>
        <name>dfs.namenode.keytab.file</name>
        <value>/etc/security/keytabs/nn.service.keytab</value>
    </property>

    <property>
        <name>dfs.namenode.lifeline.rpc-address.apollo-rn_.nn1</name>
        <value>apollo-rno-nn-1.vip.hadoop.ebay.com:8022</value>
    </property>

    <property>
        <name>dfs.namenode.lifeline.rpc-address.apollo-rn.nn2</name>
        <value>apollo-rno-nn-2.vip.hadoop.ebay.com:8022</value>
    </property>

    <property>
        <name>dfs.namenode.name.dir</name>
        <value>/hadoop/hdfs/namenode</value>
    </property>

    <property>
        <name>dfs.namenode.name.dir.restore</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.namenode.replication.max-streams</name>
        <value>40</value>
    </property>

    <property>
        <name>dfs.namenode.safemode.extension</name>
        <value>120000</value>
    </property>

    <property>
        <name>dfs.namenode.safemode.threshold-pct</name>
        <value>1.0f</value>
    </property>

    <property>
        <name>dfs.namenode.servicerpc-address.apollo-rno.nn1</name>
        <value>apollo-rno-nn-1.vip.hadoop.ebay.com:8021</value>
    </property>

    <property>
        <name>dfs.namenode.servicerpc-address.apollo-rno.nn2</name>
        <value>apollo-rno-nn-2.vip.hadoop.ebay.com:8021</value>
    </property>

    <property>
        <name>dfs.namenode.service.handler.count</name>
        <value>55</value>
    </property>

    <property>
        <name>dfs.namenode.startup.delay.block.deletion.sec</name>
        <value>3600</value>
    </property>

    <property>
        <name>dfs.permissions.enabled</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.permissions.superusergroup</name>
        <value>hadoop</value>
    </property>

    <property>
        <name>dfs.qjournal.write-txns.timeout.ms</name>
        <value>40000</value>
    </property>

    <property>
        <name>dfs.replication</name>
        <value>3</value>
    </property>

    <property>
        <name>dfs.replication.max</name>
        <value>50</value>
    </property>

    <property>
        <name>dfs.storage.policy.enabled</name>
        <value>FALSE</value>
    </property>

    <property>
        <name>dfs.support.append</name>
        <value>true</value>
    </property>

    <property>
        <name>dfs.web.authentication.kerberos.keytab</name>
        <value>/etc/security/keytabs/spnego.service.keytab</value>
    </property>

    <property>
        <name>dfs.web.authentication.kerberos.principal</name>
        <value>HTTP/_HOST@PROD.EBAY.COM</value>
    </property>

    <property>
        <name>dfs.webhdfs.enabled</name>
        <value>true</value>
    </property>

    <property>
        <name>fs.permissions.umask-mode</name>
        <value>022</value>
    </property>

    <property>
        <name>nfs.exports.allowed.hosts</name>
        <value>* rw</value>
    </property>

    <property>
        <name>nfs.file.dump.dir</name>
        <value>/tmp/.hdfs-nfs</value>
    </property>


    <property>
        <name>dfs.client.failover.proxy.provider.apollo-rno</name>
        <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>
    </property>

    <property>
        <name>dfs.ha.namenodes.apollo-rno</name>
        <value>nn1,nn2</value>
    </property>

    <property>
        <name>dfs.namenode.https-address.apollo-rno.nn1</name>
        <value>apollo-rno-nn-1.vip.hadoop.ebay.com:50070</value>
    </property>
    
    <property>
        <name>dfs.namenode.https-address.apollo-rno.nn2</name>
        <value>apollo-rno-nn-2.vip.hadoop.ebay.com:50070</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.apollo-rno.nn1</name>
        <value>apollo-rno-nn-1.vip.hadoop.ebay.com:8020</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.apollo-rno.nn2</name>
        <value>apollo-rno-nn-2.vip.hadoop.ebay.com:8020</value>
    </property>

    <property>
        <name>dfs.nameservices</name>
        <value>apollo-rno,hebe-rno,apollo-rno-ns01</value>
    </property>

	<property>
		<name>dfs.namenode.shared.edits.dir</name>
		<value>qjournal://apollo-rno-jn-1.vip.hadoop.ebay.com:8485;apollo-rno-jn-2.vip.hadoop.ebay.com:8485;apollo-rno-jn-3.vip.hadoop.ebay.com:8485;apollo-rno-jn-4.vip.hadoop.ebay.com:8485;apollo-rno-jn-5.vip.hadoop.ebay.com:8485/apollo-rno</value>
	</property>

    <property>
        <name>dfs.internal.nameservices</name>
        <value>apollo-rno,apollo-rno-ns01</value>
    </property>

    <property>
        <name>dfs.client.failover.proxy.provider.apollo-rno-ns01</name>
        <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>
    </property>

    <property>
        <name>dfs.ha.namenodes.apollo-rno-ns01</name>
        <value>nn1,nn2</value>
    </property>

    <property>
        <name>dfs.namenode.https-address.apollo-rno-ns01.nn1</name>
        <value>apollo-rno-fed01-nn-1.vip.hadoop.ebay.com:50070</value>
    </property>

    <property>
        <name>dfs.namenode.https-address.apollo-rno-ns01.nn2</name>
        <value>apollo-rno-fed01-nn-2.vip.hadoop.ebay.com:50070</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.apollo-rno-ns01.nn1</name>
        <value>apollo-rno-fed01-nn-1.vip.hadoop.ebay.com:8020</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.apollo-rno-ns01.nn2</name>
        <value>apollo-rno-fed01-nn-2.vip.hadoop.ebay.com:8020</value>
    </property>

    <property>
        <name>dfs.namenode.servicerpc-address.apollo-rno-ns01.nn1</name>
        <value>apollo-rno-fed01-nn-1.vip.hadoop.ebay.com:8021</value>
    </property>

    <property>
        <name>dfs.namenode.servicerpc-address.apollo-rno-ns01.nn2</name>
        <value>apollo-rno-fed01-nn-2.vip.hadoop.ebay.com:8021</value>
    </property>

	<property>
		<name>dfs.datanode.data.dir</name>
		<value>/hadoop/1/hdfs/data,/hadoop/2/hdfs/data,/hadoop/3/hdfs/data,/hadoop/4/hdfs/data,/hadoop/5/hdfs/data,/hadoop/6/hdfs/data,/hadoop/7/hdfs/data,/hadoop/8/hdfs/data,/hadoop/9/hdfs/data,/hadoop/10/hdfs/data,/hadoop/11/hdfs/data,/hadoop/12/hdfs/data</value>
		<final>true</final>
	</property>
	
	<property>
        <name>dfs.client.failover.proxy.provider.ares-lvs-nn-ha</name>
        <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>
    </property>
    <property>
        <name>dfs.ha.namenodes.ares-lvs-nn-ha</name>
        <value>namenode5010,namenode5011</value>
    </property>
    <property>
        <name>dfs.namenode.rpc-address.ares-lvs-nn-ha.namenode5010</name>
        <value>ares-nn.vip.ebay.com:8020</value>
    </property>
    <property>
        <name>dfs.namenode.servicerpc-address.ares-lvs-nn-ha.namenode5010</name>
        <value>ares-nn.vip.ebay.com:8030</value>
    </property>
    <property>
        <name>dfs.namenode.http-address.ares-lvs-nn-ha.namenode5010</name>
        <value>ares-nn.vip.ebay.com:50080</value>
    </property>
    <property>
        <name>dfs.namenode.https-address.ares-lvs-nn-ha.namenode5010</name>
        <value>ares-nn.vip.ebay.com:50070</value>
    </property>
    <property>
        <name>dfs.namenode.rpc-address.ares-lvs-nn-ha.namenode5011</name>
        <value>ares-nn-2.vip.ebay.com:8020</value>
    </property>
    <property>
        <name>dfs.namenode.servicerpc-address.ares-lvs-nn-ha.namenode5011</name>
        <value>ares-nn-2.vip.ebay.com:8030</value>
    </property>
    <property>
        <name>dfs.namenode.http-address.ares-lvs-nn-ha.namenode5011</name>
        <value>ares-nn-2.vip.ebay.com:50080</value>
    </property>
    <property>
        <name>dfs.namenode.https-address.ares-lvs-nn-ha.namenode5011</name>
        <value>ares-nn-2.vip.ebay.com:50070</value>
    </property>
    
     <property>
        <name>dfs.client.failover.proxy.provider.hebe-rno</name>
        <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>
    </property>

    <property>
        <name>dfs.ha.namenodes.hebe-rno</name>
        <value>nn1,nn2</value>
    </property>

    <property>
        <name>dfs.namenode.https-address.hebe-rno.nn1</name>
        <value>hebe-rno-nn-1.vip.hadoop.ebay.com:50070</value>
    </property>
    
    <property>
        <name>dfs.namenode.https-address.hebe-rno.nn2</name>
        <value>hebe-rno-nn-2.vip.hadoop.ebay.com:50070</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.hebe-rno.nn1</name>
        <value>hebe-rno-nn-1.vip.hadoop.ebay.com:8020</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.hebe-rno.nn2</name>
        <value>hebe-rno-nn-2.vip.hadoop.ebay.com:8020</value>
    </property>

    <property>
        <name>dfs.namenode.servicerpc-address.hebe-rno.nn1</name>
        <value>hebe-rno-nn-1.vip.hadoop.ebay.com:8021</value>
    </property>

    <property>
        <name>dfs.namenode.servicerpc-address.hebe-rno.nn2</name>
        <value>hebe-rno-nn-2.vip.hadoop.ebay.com:8021</value>
    </property>

</configuration>
